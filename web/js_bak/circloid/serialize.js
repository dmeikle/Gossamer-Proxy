function serializeJS(c){var a,i,j,b="",f="",d=0,g=function(p){var n=0,m=0,k=p.length,o="";for(m=0;m<k;m++){o=p.charCodeAt(m);if(o<128){n+=1}else{if(o<2048){n+=2}else{n+=3}}}return n},h=function(p){var l,n,k,m,o=typeof p;if(o==="object"&&!p){return"null"}if(o==="object"){if(!p.constructor){return"object"}k=p.constructor.toString();l=k.match(/(\w+)\(/);if(l){k=l[1].toLowerCase()}m=["boolean","number","string","array"];for(n in m){if(k==m[n]){o=m[n];break}}}return o},e=h(c);switch(e){case"function":a="";break;case"boolean":a="b:"+(c?"1":"0");break;case"number":a=(Math.round(c)==c?"i":"d")+":"+c;break;case"string":a="s:"+g(c)+':"'+c+'"';break;case"array":case"object":a="a";for(i in c){if(c.hasOwnProperty(i)){b=h(c[i]);if(b==="function"){continue}j=(i.match(/^[0-9]+$/)?parseInt(i,10):i);f+=this.serializeJS(j)+this.serializeJS(c[i]);d++}}a+=":"+d+":{"+f+"}";break;case"undefined":default:a="N";break}if(e!=="object"&&e!=="array"){a+=";"}return a};