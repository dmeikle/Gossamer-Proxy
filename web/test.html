

    
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> 
<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed 
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script> 
--> 
<script src="/css/bootstrap-3.1.1-dist/js/bootstrap.min.js"></script> 
 <script src="http://code.jquery.com/jquery-1.10.2.js"></script>

<script language="javascript">
    
    $(document).ready(function() {
       
        $('#addNew').click(function() {
          $('#inputForm').toggle();
        });
        
        $('#save').click(function() {
           var row = '<div class="row">'  +
                   '<div class="hazardName">' + $( "#hazard option:selected" ).text() + '</div>' +
                   '<div class="riskName">X' + $( "#risk option:selected" ).text() +  $( "#action option:selected" ).text() + '</div>' +
                   '<a href="#" class="completed">completed</a>'
                   '</div>' ;
           
           $('#results').append(row);
           $('#inputForm').toggle();
        });
        
        $('#cancel').click(function() {
            $('#inputForm').toggle();
        });
                
        $(document).on('click', '.completed', function(){
            $(this).parent().addClass('row-complete');
        });
        
    });
    
    $(document).ready(function() {

  if(!("WebSocket" in window)){
  $('#chatLog, input, button, #examples').fadeOut("fast");
  $('<p>Oh no, you need a browser that supports WebSockets. How about <a href="http://www.google.com/chrome">Google Chrome</a>?</p>').appendTo('#container');
  }else{
      //The user has WebSockets

      connect();
    }//End connect
      function connect(){
          var socket;
          var host = "ws://192.168.2.251:9305/server.php";

          try{
              var socket = new WebSocket(host);

              message('<p class="event">Socket Status: '+socket.readyState);

              socket.onopen = function(){
             	 message('<p class="event">Socket Status: '+socket.readyState+' (open)');
              }

              socket.onmessage = function(msg){
             	 message('<p class="message">Received: '+msg.data);
              }

              socket.onclose = function(){
              	message('<p class="event">Socket Status: '+socket.readyState+' (Closed)');
              }			

          } catch(exception){
             message('<p>Error'+exception);
          }

          function send(){
              var text = $('#text').val();

              if(text==""){
                  message('<p class="warning">Please enter a message');
                  return ;
              }
              try{
                  socket.send(text);
                  message('<p class="event">Sent: '+text)

              } catch(exception){
                 message('<p class="warning">');
              }
              $('#text').val("");
          }

          function message(msg){
            $('#chatLog').append(msg+'</p>');
          }

          $('#text').keypress(function(event) {
              if (event.keyCode == '13') {
                send();
              }
          });	

          $('#disconnect').click(function(){
             socket.close();
          });

     

  }//End else

});
    
    
</script>    


<style type="text/css">
    #results .row .hazardName {
            float: left;
            width: 200px;
    }
    #results .row.row-complete {
            border: 1px solid #F00;
    }
    .row {
            width: 400px;
    }
</style>
text: <input type="text" id="text">

<div id="chatLog">here is chatlog</div>
<div id="results">
    
</div>

<a href="#" id="addNew">+</a>


<div id="inputForm" style="display:none">
    <table>
  <tr>
    <th scope="col">Hazard</th>
    <th scope="col"><select name="select" id="hazard">
      <option>Human Waste</option>
      <option>Chemicals</option>
      <option>Nuclear Waste</option>
    </select></th>
  </tr>
  <tr>
    <td>Risk</td>
    <td><select name="select3" id="risk">
      <option value="-">-</option>
      <option value="L">L</option>
      <option value="M">M</option>
      <option value="H">H</option>
    </select></td>
  </tr>
  <tr>
    <td>Work Action</td>
    <td><select name="select2" id="action">
      <option value="-">-</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select></td>
  </tr>
        <tr>
            <td></td>
            <td>
                <input type="button" value="Save" id="save"> 
                <input type="button" value="Cancel" id="cancel"> 
            </td>
        </tr>
    </table>
</div>